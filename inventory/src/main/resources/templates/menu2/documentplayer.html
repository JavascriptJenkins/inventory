<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document Player</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
    <style>
        :root { --accent: #f25e5a; }
        body { background-color: #121212; color: #e0e0e0; }
        .container { max-width: 1100px; }
        .page-title {
          font-family: 'Press Start 2P', cursive; color: var(--accent); text-align: center; font-size: 1.75rem;
          text-shadow: 2px 2px 0 #000; margin: 2.5rem 0 1.75rem 0; animation: titlePulse 2s infinite ease-in-out;
        }
        @keyframes titlePulse { 0% { transform: scale(1); } 50% { transform: scale(1.06); } 100% { transform: scale(1); } }
        .back-button {
          display: inline-flex; align-items: center; gap: .5rem; color: #fff !important; text-decoration: none;
          background: rgba(242, 94, 90, 0.15); border: 1px solid rgba(242, 94, 90, 0.6); padding: .7rem 1.1rem;
          border-radius: 12px; box-shadow: 0 0 15px rgba(242, 94, 90, 0.6);
          transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease;
          animation: backPulse 1.8s ease-in-out infinite;
        }
        .back-button:hover { transform: scale(1.06); box-shadow: 0 0 26px rgba(242, 94, 90, 1); }
        @keyframes backPulse { 0% { box-shadow: 0 0 12px rgba(242, 94, 90, 0.5); } 50% { box-shadow: 0 0 24px rgba(242, 94, 90, 1); } 100% { box-shadow: 0 0 12px rgba(242, 94, 90, 0.5); } }
        .table-wrap { background-color: #1e1e1e; border: 1px solid #333; border-radius: 16px; overflow: hidden; }
        table.table { margin: 0; color: #fff; }
        thead th { background-color: #262626; color: #fff; border-bottom: 1px solid #333; font-weight: 600; }
        tbody tr { transition: background-color .2s ease, transform .15s ease; }
        tbody tr:hover { background-color: #242424; transform: scale(1.01); }
        .table > :not(caption) > * > * { border-color: #333; }
        .open-btn {
          background: rgba(242, 94, 90, 0.2); color: #fff; border: 1px solid rgba(242, 94, 90, .6);
        }
        .open-btn:hover { background: rgba(242, 94, 90, 0.35); }
        #docPopupOverlay {
          position: fixed; inset: 0; background: rgba(0, 0, 0, 0.85);
          display: none; justify-content: center; align-items: center; z-index: 1050;
        }
        #docPopupOverlay .popup-content {
          position: relative; background: #1a1a1a; padding: 16px; border-radius: 14px; max-width: 92%; max-height: 92%;
          box-shadow: 0 0 24px rgba(242, 94, 90, 0.45); border: 1px solid #333;
        }
        #docPopupOverlay iframe {
          width: 80vw; height: 80vh; border-radius: 10px; border: 4px solid #676767; background: #fff;
        }
        #docPopupOverlay .popup-close {
          position: absolute; top: 10px; right: 10px; width: 36px; height: 36px;
          border-radius: 50%; display: grid; place-items: center; cursor: pointer;
          color: #fff; font-size: 24px; font-weight: bold;
          background: rgba(242, 94, 90, 0.15); border: 1px solid rgba(242, 94, 90, .6);
        }
        #scrollTopBtn {
          position: fixed; bottom: 30px; right: 30px; z-index: 9999; display: none;
          background-color: rgba(242, 94, 90, 0.9) !important; color: #fff; border: none; border-radius: 50%;
          padding: 24px; font-size: 3.5rem; cursor: pointer; box-shadow: 0 0 18px rgba(242, 94, 90, 0.7);
          animation: scrollPulse 1.6s ease-in-out infinite;
        }
        #scrollTopBtn:hover { transform: scale(1.15); box-shadow: 0 0 30px rgba(242, 94, 90, 1); }
        @keyframes scrollPulse { 0% { box-shadow: 0 0 15px rgba(242, 94, 90, 0.5); } 50% { box-shadow: 0 0 35px rgba(242, 94, 90, 1); } 100% { box-shadow: 0 0 15px rgba(242, 94, 90, 0.5); } }
    </style>
</head>
<body>
<div class="container mt-4">
    <div class="mb-3">
        <a href="#" th:href="@{/menu2/shop(menuid=${menuid}, shoppingtoken=${shoppingtoken})}" class="back-button">            <i class="bi bi-arrow-left"></i>
            Back To Menu</a>
    </div>
    <div class="page-title">Documents</div>
    <div class="table-wrap">
        <table class="table table-hover table-striped">
            <thead>
            <tr>
                <th>File Name</th>
                <th>Directory</th>
                <th>Preview</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>example.pdf</td>
                <td>/docs</td>
                <td><button class="btn open-btn" data-doc-url="/docs/example.pdf"><i class="bi bi-arrows-fullscreen me-1"></i> Open PDF</button></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div id="docPopupOverlay">
    <div class="popup-content">
        <div class="popup-close" id="popupCloseBtn">&times;</div>
        <iframe id="popupDocDisplay" src="" frameborder="0"></iframe>
    </div>
</div>
<button onclick="window.scrollTo({ top: 0, behavior: 'smooth' });" id="scrollTopBtn" title="Back to top"><i class="bi bi-arrow-up-circle-fill"></i></button>
<script>
    (function () {
      const overlay = document.getElementById('docPopupOverlay');
      const iframe = document.getElementById('popupDocDisplay');
      const closeEl = document.getElementById('popupCloseBtn');
      document.addEventListener('click', function (e) {
        const btn = e.target.closest('.open-btn');
        if (btn) {
          iframe.src = btn.getAttribute('data-doc-url');
          overlay.style.display = 'flex';
        }
      });
      closeEl.addEventListener('click', () => { overlay.style.display = 'none'; iframe.src = ''; });
      overlay.addEventListener('click', (e) => { if (e.target === overlay) { overlay.style.display = 'none'; iframe.src = ''; } });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { overlay.style.display = 'none'; iframe.src = ''; } });
    })();
    (function () {
      const btn = document.getElementById('scrollTopBtn');
      window.addEventListener('scroll', () => { btn.style.display = window.scrollY > 100 ? 'block' : 'none'; });
    })();
</script>
</body>
</html>
